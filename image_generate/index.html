<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π AI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üé® AI –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>
                <a href="../" class="back-link">‚Üê –ù–∞–∑–∞–¥</a>
            </div>

            <nav class="mode-tabs">
                <button class="mode-tab active" data-mode="generate">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</button>
                <button class="mode-tab" data-mode="edit">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                <button class="mode-tab" data-mode="combine">–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ</button>
                <button class="mode-tab" data-mode="style">–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è</button>
            </nav>

            <!-- Generate Mode -->
            <div class="mode-content active" id="mode-generate">
                <div class="form-group">
                    <label for="promptInput">–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                    <textarea id="promptInput" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å..."></textarea>
                </div>
                <div class="form-group">
                    <label for="negativePrompt">–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–º–ø—Ç</label>
                    <textarea id="negativePrompt" rows="2" placeholder="–ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏"></textarea>
                </div>
                <div class="form-group">
                    <label>–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω</label>
                    <div class="ratio-buttons">
                        <button class="ratio-btn active" data-ratio="1:1">1:1</button>
                        <button class="ratio-btn" data-ratio="16:9">16:9</button>
                        <button class="ratio-btn" data-ratio="9:16">9:16</button>
                        <button class="ratio-btn" data-ratio="4:3">4:3</button>
                    </div>
                </div>
                <button class="btn btn-primary btn-full" id="generateBtn">
                    <span class="btn-text">‚ú® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span>
                    <span class="btn-loader" style="display:none;">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...</span>
                </button>
            </div>

            <!-- Edit Mode -->
            <div class="mode-content" id="mode-edit">
                <div class="form-group">
                    <label>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <div class="upload-area" id="editUploadArea">
                        <input type="file" id="editImageInput" accept="image/*" hidden>
                        <span>üìÅ –ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ</span>
                    </div>
                    <img id="editPreview" class="preview-image" style="display:none;">
                </div>
                <div class="form-group">
                    <label for="editPrompt">–ß—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å?</label>
                    <textarea id="editPrompt" rows="3" placeholder="–û–ø–∏—à–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è..."></textarea>
                </div>
                <button class="btn btn-primary btn-full" id="editBtn">
                    <span class="btn-text">üñåÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</span>
                    <span class="btn-loader" style="display:none;">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
                </button>
            </div>

            <!-- Combine Mode -->
            <div class="mode-content" id="mode-combine">
                <div class="form-group">
                    <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 1</label>
                    <div class="upload-area" id="combine1UploadArea">
                        <input type="file" id="combine1Input" accept="image/*" hidden>
                        <span>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å</span>
                    </div>
                    <img id="combine1Preview" class="preview-image" style="display:none;">
                </div>
                <div class="form-group">
                    <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 2</label>
                    <div class="upload-area" id="combine2UploadArea">
                        <input type="file" id="combine2Input" accept="image/*" hidden>
                        <span>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å</span>
                    </div>
                    <img id="combine2Preview" class="preview-image" style="display:none;">
                </div>
                <div class="form-group">
                    <label for="combinePrompt">–ö–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å?</label>
                    <textarea id="combinePrompt" rows="2" placeholder="–û–ø–∏—à–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç..."></textarea>
                </div>
                <button class="btn btn-primary btn-full" id="combineBtn">
                    <span class="btn-text">üîÄ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å</span>
                    <span class="btn-loader" style="display:none;">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
                </button>
            </div>

            <!-- Style Mode -->
            <div class="mode-content" id="mode-style">
                <div class="form-group">
                    <label>–ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                    <div class="upload-area" id="styleSourceUploadArea">
                        <input type="file" id="styleSourceInput" accept="image/*" hidden>
                        <span>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å</span>
                    </div>
                    <img id="styleSourcePreview" class="preview-image" style="display:none;">
                </div>
                <div class="form-group">
                    <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ —Å—Ç–∏–ª–µ–º</label>
                    <div class="upload-area" id="styleRefUploadArea">
                        <input type="file" id="styleRefInput" accept="image/*" hidden>
                        <span>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∏–ª—å</span>
                    </div>
                    <img id="styleRefPreview" class="preview-image" style="display:none;">
                </div>
                <div class="form-group">
                    <label for="styleStrength">–°–∏–ª–∞ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏</label>
                    <input type="range" id="styleStrength" min="0" max="100" value="50">
                    <span id="styleStrengthValue">50%</span>
                </div>
                <button class="btn btn-primary btn-full" id="styleBtn">
                    <span class="btn-text">üé≠ –°—Ç–∏–ª–∏–∑–æ–≤–∞—Ç—å</span>
                    <span class="btn-loader" style="display:none;">–û–±—Ä–∞–±–æ—Ç–∫–∞...</span>
                </button>
            </div>

            <div class="sidebar-footer">
                <button class="btn btn-outline btn-full" id="settingsBtn">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API</button>
            </div>
        </aside>

        <!-- Result Area -->
        <main class="result-area">
            <div class="result-header">
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                <div class="result-actions" style="display:none;" id="resultActions">
                    <button class="btn btn-outline" id="downloadBtn">üì• –°–∫–∞—á–∞—Ç—å</button>
                    <button class="btn btn-outline" id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
            </div>

            <div class="result-container" id="resultContainer">
                <div class="placeholder">
                    <div class="placeholder-icon">üñºÔ∏è</div>
                    <h3>–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</p>
                </div>
            </div>

            <div class="history-section">
                <h4>–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π</h4>
                <div class="history-grid" id="historyGrid">
                    <!-- Generated images history -->
                </div>
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API</h3>
                <button class="modal-close" id="closeSettingsBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="apiKeyInput">API –∫–ª—é—á Google Gemini</label>
                    <input type="password" id="apiKeyInput" placeholder="AIza...">
                    <small>–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á: <a href="https://aistudio.google.com/apikey" target="_blank">aistudio.google.com/apikey</a></small>
                </div>
                <p class="api-note">
                    –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>Imagen 4</strong> —á–µ—Ä–µ–∑ Gemini API.<br>
                    –¢–æ—Ç –∂–µ –∫–ª—é—á, —á—Ç–æ –∏ –¥–ª—è —á–∞—Ç–∞ —Å AI.
                </p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="saveSettingsBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
