<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMS - Панель управления</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --sidebar-width: 260px;
            --header-height: 60px;
            --primary: #3b82f6;
            --primary-hover: #2563eb;
            --danger: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --bg-dark: #0f172a;
            --bg-darker: #020617;
            --bg-card: #1e293b;
            --bg-input: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-color: #334155;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Layout */
        .admin-layout {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .admin-sidebar {
            width: var(--sidebar-width);
            background: var(--bg-darker);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-primary);
        }

        .sidebar-logo i {
            font-size: 24px;
            color: var(--primary);
        }

        .sidebar-logo span {
            font-size: 18px;
            font-weight: 600;
        }

        /* Project Selector */
        .project-selector {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .project-dropdown {
            width: 100%;
            padding: 10px 12px;
            background: var(--bg-input);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        .project-dropdown:hover {
            border-color: var(--primary);
        }

        .project-dropdown .project-name {
            display: flex;
            align-items: center;
            gap: 8px;
            overflow: hidden;
        }

        .project-dropdown .project-name i {
            color: var(--primary);
        }

        .project-dropdown .project-name span {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Project Menu */
        .project-menu {
            display: none;
            position: absolute;
            left: 16px;
            right: 16px;
            top: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-height: 300px;
            overflow-y: auto;
            z-index: 200;
        }

        .project-menu.open {
            display: block;
        }

        .project-menu-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .project-menu-item:hover {
            background: var(--bg-input);
        }

        .project-menu-item.active {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary);
        }

        .project-menu-item i {
            color: var(--text-muted);
        }

        .project-menu-item.active i {
            color: var(--primary);
        }

        .project-menu-divider {
            border-top: 1px solid var(--border-color);
            margin: 8px 0;
        }

        .project-menu-item.create {
            color: var(--primary);
        }

        .project-menu-item.create i {
            color: var(--primary);
        }

        /* Sidebar Nav */
        .sidebar-nav {
            flex: 1;
            overflow-y: auto;
            padding: 16px 0;
        }

        .nav-section {
            margin-bottom: 8px;
        }

        .nav-section-title {
            padding: 8px 20px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            font-weight: 600;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: rgba(59, 130, 246, 0.1);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(59, 130, 246, 0.15);
            color: var(--primary);
            border-left-color: var(--primary);
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 16px;
        }

        .nav-item span {
            flex: 1;
        }

        .nav-item .badge {
            background: var(--bg-input);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .nav-item.active .badge {
            background: rgba(59, 130, 246, 0.2);
            color: var(--primary);
        }

        /* Submenu */
        .nav-submenu {
            display: none;
            padding-left: 32px;
        }

        .nav-submenu.open {
            display: block;
        }

        .nav-submenu .nav-item {
            padding: 10px 20px;
            font-size: 14px;
        }

        .nav-item-parent {
            cursor: pointer;
        }

        .nav-item-parent .arrow {
            transition: transform 0.2s;
        }

        .nav-item-parent.open .arrow {
            transform: rotate(90deg);
        }

        /* Sidebar Footer */
        .sidebar-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--border-color);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-details {
            flex: 1;
            overflow: hidden;
        }

        .user-name {
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-role {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Main Content */
        .admin-main {
            flex: 1;
            margin-left: var(--sidebar-width);
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .admin-header {
            height: var(--header-height);
            background: var(--bg-darker);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-title h1 {
            font-size: 20px;
            font-weight: 600;
        }

        .header-title .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
            font-size: 14px;
        }

        .header-title .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
        }

        .header-title .breadcrumb a:hover {
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
        }

        .btn-secondary {
            background: var(--bg-input);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--bg-card);
            border-color: var(--text-muted);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            background: var(--bg-input);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-icon:hover {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        /* Content Area */
        .admin-content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
        }

        /* Section Display */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        /* Card */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s;
        }

        .card:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.1);
        }

        .card-preview {
            height: 180px;
            background: var(--bg-darker);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .card-preview iframe {
            width: 200%;
            height: 200%;
            transform: scale(0.5);
            transform-origin: top left;
            pointer-events: none;
            border: none;
        }

        .card-preview-placeholder {
            color: var(--text-muted);
            font-size: 48px;
        }

        .card-body {
            padding: 16px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-title input {
            flex: 1;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            padding: 4px;
            border-radius: 4px;
        }

        .card-title input:focus {
            outline: none;
            background: var(--bg-input);
        }

        .card-meta {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        .card-action {
            flex: 1;
            padding: 8px;
            border: 1px solid var(--border-color);
            background: none;
            color: var(--text-secondary);
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .card-action:hover {
            background: var(--bg-input);
            color: var(--text-primary);
        }

        .card-action.primary {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .card-action.primary:hover {
            background: var(--primary-hover);
        }

        .card-action.danger:hover {
            background: var(--danger);
            border-color: var(--danger);
            color: white;
        }

        /* New Card */
        .card.new {
            border: 2px dashed var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 260px;
            cursor: pointer;
        }

        .card.new:hover {
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.05);
        }

        .card.new i {
            font-size: 48px;
            color: var(--text-muted);
            margin-bottom: 12px;
        }

        .card.new span {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Table */
        .table-container {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .table-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .table-search {
            display: flex;
            gap: 12px;
        }

        .table-search input {
            padding: 8px 16px;
            background: var(--bg-input);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            width: 250px;
        }

        .table-search input:focus {
            outline: none;
            border-color: var(--primary);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 14px 20px;
            text-align: left;
        }

        th {
            background: var(--bg-darker);
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
        }

        td {
            border-top: 1px solid var(--border-color);
        }

        tr:hover td {
            background: rgba(59, 130, 246, 0.05);
        }

        .table-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .table-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 14px;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-badge.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-badge.inactive {
            background: rgba(100, 116, 139, 0.1);
            color: var(--text-muted);
        }

        .status-badge.pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .status-badge.completed {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary);
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        .table-action {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--bg-input);
            color: var(--text-secondary);
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .table-action:hover {
            background: var(--primary);
            color: white;
        }

        .table-action.danger:hover {
            background: var(--danger);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
        }

        .stat-card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .stat-card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .stat-card-icon.blue {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary);
        }

        .stat-card-icon.green {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .stat-card-icon.yellow {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .stat-card-icon.red {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .stat-card-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-card-label {
            color: var(--text-muted);
            font-size: 14px;
        }

        .stat-card-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-card-change.positive {
            color: var(--success);
        }

        .stat-card-change.negative {
            color: var(--danger);
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 16px;
        }

        .tab {
            padding: 10px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .tab:hover {
            background: var(--bg-input);
            color: var(--text-primary);
        }

        .tab.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .tab .badge {
            background: rgba(255,255,255,0.2);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Pages with Sidebar */
        .pages-layout {
            display: flex;
            gap: 24px;
        }

        .pages-sidebar {
            width: 250px;
            flex-shrink: 0;
        }

        .pages-main {
            flex: 1;
        }

        .folder-tree {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
        }

        .folder-tree-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .folder-tree-header h3 {
            font-size: 14px;
            font-weight: 600;
        }

        .folder-item {
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .folder-item:hover {
            background: var(--bg-input);
        }

        .folder-item.active {
            background: rgba(59, 130, 246, 0.1);
            border-left-color: var(--primary);
            color: var(--primary);
        }

        .folder-item i {
            color: var(--text-muted);
        }

        .folder-item.active i {
            color: var(--primary);
        }

        .folder-item span {
            flex: 1;
        }

        .folder-item .count {
            font-size: 12px;
            color: var(--text-muted);
            background: var(--bg-input);
            padding: 2px 8px;
            border-radius: 10px;
        }

        .folder-children {
            padding-left: 20px;
            display: none;
        }

        .folder-children.open {
            display: block;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.open {
            display: flex;
        }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-header h2 {
            font-size: 18px;
            font-weight: 600;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--bg-input);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .modal-close:hover {
            background: var(--danger);
            color: white;
        }

        .modal-body {
            padding: 24px;
            overflow-y: auto;
        }

        .modal-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Form */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-input);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 14px;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-hint {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 6px;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-state i {
            font-size: 64px;
            color: var(--text-muted);
            margin-bottom: 16px;
        }

        .empty-state h3 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .empty-state p {
            color: var(--text-secondary);
            margin-bottom: 24px;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .admin-sidebar {
                transform: translateX(-100%);
            }

            .admin-sidebar.open {
                transform: translateX(0);
            }

            .admin-main {
                margin-left: 0;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .pages-layout {
                flex-direction: column;
            }

            .pages-sidebar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="sidebar-logo">
                    <i class="fas fa-cubes"></i>
                    <span>AI CMS</span>
                </a>
            </div>

            <!-- Project Selector -->
            <div class="project-selector">
                <div class="project-dropdown" id="projectDropdown">
                    <div class="project-name">
                        <i class="fas fa-folder"></i>
                        <span id="currentProjectName">Выберите проект</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="project-menu" id="projectMenu">
                    <!-- Projects will be rendered here -->
                </div>
            </div>

            <!-- Navigation -->
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Основное</div>
                    <a class="nav-item active" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Дашборд</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Контент</div>
                    <a class="nav-item" data-section="pages">
                        <i class="fas fa-file-alt"></i>
                        <span>Страницы</span>
                        <span class="badge" id="pagesCount">0</span>
                    </a>
                    <a class="nav-item" data-section="landings">
                        <i class="fas fa-rocket"></i>
                        <span>Лендинги</span>
                        <span class="badge" id="landingsCount">0</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Каталог</div>
                    <div class="nav-item nav-item-parent" data-submenu="products">
                        <i class="fas fa-shopping-bag"></i>
                        <span>Товары/Услуги</span>
                        <i class="fas fa-chevron-right arrow"></i>
                    </div>
                    <div class="nav-submenu" id="submenu-products">
                        <a class="nav-item" data-section="products">
                            <i class="fas fa-box"></i>
                            <span>Товары</span>
                        </a>
                        <a class="nav-item" data-section="services">
                            <i class="fas fa-concierge-bell"></i>
                            <span>Услуги</span>
                        </a>
                        <a class="nav-item" data-section="digital">
                            <i class="fas fa-cloud-download-alt"></i>
                            <span>Онлайн-продукты</span>
                        </a>
                        <a class="nav-item" data-section="specialists">
                            <i class="fas fa-user-tie"></i>
                            <span>Специалисты</span>
                        </a>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Продажи</div>
                    <div class="nav-item nav-item-parent" data-submenu="orders">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Заказы</span>
                        <i class="fas fa-chevron-right arrow"></i>
                    </div>
                    <div class="nav-submenu" id="submenu-orders">
                        <a class="nav-item" data-section="orders">
                            <i class="fas fa-receipt"></i>
                            <span>Заказы</span>
                            <span class="badge" id="ordersCount">0</span>
                        </a>
                        <a class="nav-item" data-section="payments">
                            <i class="fas fa-credit-card"></i>
                            <span>Платежи</span>
                        </a>
                        <a class="nav-item" data-section="warehouse">
                            <i class="fas fa-warehouse"></i>
                            <span>Склад</span>
                        </a>
                        <a class="nav-item" data-section="delivery">
                            <i class="fas fa-truck"></i>
                            <span>Доставка</span>
                        </a>
                    </div>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Администрирование</div>
                    <a class="nav-item" data-section="users">
                        <i class="fas fa-users"></i>
                        <span>Пользователи</span>
                    </a>
                    <a class="nav-item" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Настройки</span>
                    </a>
                </div>
            </nav>

            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">А</div>
                    <div class="user-details">
                        <div class="user-name">Администратор</div>
                        <div class="user-role">Владелец</div>
                    </div>
                    <button class="btn-icon" title="Выйти">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div class="header-title">
                    <button class="btn-icon mobile-menu-toggle" style="display:none;">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 id="sectionTitle">Дашборд</h1>
                </div>
                <div class="header-actions">
                    <button class="btn-icon" title="Уведомления">
                        <i class="fas fa-bell"></i>
                    </button>
                    <button class="btn btn-primary" id="mainActionBtn">
                        <i class="fas fa-plus"></i>
                        <span>Создать</span>
                    </button>
                </div>
            </header>

            <!-- Content -->
            <div class="admin-content">
                <!-- Dashboard Section -->
                <section class="section active" id="section-dashboard">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon blue">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="stat-pages">0</div>
                            <div class="stat-card-label">Страниц</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon green">
                                    <i class="fas fa-rocket"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="stat-landings">0</div>
                            <div class="stat-card-label">Лендингов</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon yellow">
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="stat-orders">0</div>
                            <div class="stat-card-label">Заказов</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon red">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="stat-users">0</div>
                            <div class="stat-card-label">Пользователей</div>
                        </div>
                    </div>

                    <h3 style="margin-bottom: 16px;">Последние лендинги</h3>
                    <div class="cards-grid" id="recentLandings">
                        <div class="card new" onclick="createLanding()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Создать лендинг</span>
                        </div>
                    </div>
                </section>

                <!-- Pages Section -->
                <section class="section" id="section-pages">
                    <div class="pages-layout">
                        <div class="pages-sidebar">
                            <div class="folder-tree">
                                <div class="folder-tree-header">
                                    <h3>Папки</h3>
                                    <button class="btn-icon" title="Создать папку" onclick="createFolder()">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <div class="folder-item active" data-folder="all">
                                    <i class="fas fa-folder"></i>
                                    <span>Все страницы</span>
                                    <span class="count" id="allPagesCount">0</span>
                                </div>
                                <div id="foldersList">
                                    <!-- Folders will be rendered here -->
                                </div>
                            </div>
                        </div>
                        <div class="pages-main">
                            <div class="cards-grid" id="pagesGrid">
                                <div class="card new" onclick="createPage()">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Создать страницу</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Landings Section -->
                <section class="section" id="section-landings">
                    <div class="tabs">
                        <button class="tab active" data-tab="all-landings">
                            <i class="fas fa-th-large"></i>
                            Все лендинги
                        </button>
                        <button class="tab" data-tab="templates">
                            <i class="fas fa-palette"></i>
                            Шаблоны
                        </button>
                        <button class="tab" data-tab="submissions">
                            <i class="fas fa-envelope"></i>
                            Заявки
                            <span class="badge" id="submissionsCount">0</span>
                        </button>
                    </div>

                    <div class="tab-content active" id="tab-all-landings">
                        <div class="cards-grid" id="landingsGrid">
                            <div class="card new" onclick="createLanding()">
                                <i class="fas fa-plus-circle"></i>
                                <span>Создать лендинг</span>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content" id="tab-templates">
                        <div class="cards-grid" id="templatesGrid">
                            <!-- Templates will be rendered here -->
                        </div>
                    </div>

                    <div class="tab-content" id="tab-submissions">
                        <div class="table-container">
                            <div class="table-header">
                                <div class="table-search">
                                    <input type="text" placeholder="Поиск заявок..." id="submissionsSearch">
                                </div>
                                <button class="btn btn-secondary">
                                    <i class="fas fa-download"></i>
                                    Экспорт
                                </button>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="table-checkbox"></th>
                                        <th>Дата</th>
                                        <th>Имя</th>
                                        <th>Контакт</th>
                                        <th>Страница</th>
                                        <th>Статус</th>
                                        <th>Действия</th>
                                    </tr>
                                </thead>
                                <tbody id="submissionsTable">
                                    <!-- Submissions will be rendered here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Products Section -->
                <section class="section" id="section-products">
                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск товаров...">
                            </div>
                            <button class="btn btn-primary" onclick="createProduct()">
                                <i class="fas fa-plus"></i>
                                Добавить товар
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" class="table-checkbox"></th>
                                    <th>Товар</th>
                                    <th>Артикул</th>
                                    <th>Цена</th>
                                    <th>Остаток</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="productsTable">
                                <tr>
                                    <td colspan="7">
                                        <div class="empty-state">
                                            <i class="fas fa-box-open"></i>
                                            <h3>Нет товаров</h3>
                                            <p>Добавьте первый товар для продажи</p>
                                            <button class="btn btn-primary" onclick="createProduct()">
                                                <i class="fas fa-plus"></i>
                                                Добавить товар
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Services Section -->
                <section class="section" id="section-services">
                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск услуг...">
                            </div>
                            <button class="btn btn-primary" onclick="createService()">
                                <i class="fas fa-plus"></i>
                                Добавить услугу
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" class="table-checkbox"></th>
                                    <th>Услуга</th>
                                    <th>Категория</th>
                                    <th>Цена</th>
                                    <th>Длительность</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="servicesTable">
                                <tr>
                                    <td colspan="7">
                                        <div class="empty-state">
                                            <i class="fas fa-concierge-bell"></i>
                                            <h3>Нет услуг</h3>
                                            <p>Добавьте первую услугу</p>
                                            <button class="btn btn-primary" onclick="createService()">
                                                <i class="fas fa-plus"></i>
                                                Добавить услугу
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Digital Products Section -->
                <section class="section" id="section-digital">
                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск онлайн-продуктов...">
                            </div>
                            <button class="btn btn-primary" onclick="createDigitalProduct()">
                                <i class="fas fa-plus"></i>
                                Добавить продукт
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" class="table-checkbox"></th>
                                    <th>Продукт</th>
                                    <th>Тип</th>
                                    <th>Цена</th>
                                    <th>Продаж</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="digitalTable">
                                <tr>
                                    <td colspan="7">
                                        <div class="empty-state">
                                            <i class="fas fa-cloud-download-alt"></i>
                                            <h3>Нет онлайн-продуктов</h3>
                                            <p>Добавьте курс, вебинар или файл для продажи</p>
                                            <button class="btn btn-primary" onclick="createDigitalProduct()">
                                                <i class="fas fa-plus"></i>
                                                Добавить продукт
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Specialists Section -->
                <section class="section" id="section-specialists">
                    <div class="cards-grid" id="specialistsGrid">
                        <div class="card new" onclick="createSpecialist()">
                            <i class="fas fa-plus-circle"></i>
                            <span>Добавить специалиста</span>
                        </div>
                    </div>
                </section>

                <!-- Orders Section -->
                <section class="section" id="section-orders">
                    <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr);">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon yellow">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="orders-pending">0</div>
                            <div class="stat-card-label">Новых</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon blue">
                                    <i class="fas fa-cog"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="orders-processing">0</div>
                            <div class="stat-card-label">В работе</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon green">
                                    <i class="fas fa-check"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="orders-completed">0</div>
                            <div class="stat-card-label">Завершено</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon red">
                                    <i class="fas fa-times"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="orders-cancelled">0</div>
                            <div class="stat-card-label">Отменено</div>
                        </div>
                    </div>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск заказов...">
                                <select>
                                    <option value="">Все статусы</option>
                                    <option value="pending">Новые</option>
                                    <option value="processing">В работе</option>
                                    <option value="completed">Завершено</option>
                                    <option value="cancelled">Отменено</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="createOrder()">
                                <i class="fas fa-plus"></i>
                                Создать заказ
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" class="table-checkbox"></th>
                                    <th>Заказ</th>
                                    <th>Клиент</th>
                                    <th>Товары</th>
                                    <th>Сумма</th>
                                    <th>Статус</th>
                                    <th>Дата</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTable">
                                <tr>
                                    <td colspan="8">
                                        <div class="empty-state">
                                            <i class="fas fa-shopping-cart"></i>
                                            <h3>Нет заказов</h3>
                                            <p>Заказы появятся после первых продаж</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Payments Section -->
                <section class="section" id="section-payments">
                    <div class="table-container">
                        <div class="table-header">
                            <h3>Платежные системы</h3>
                            <button class="btn btn-primary" onclick="addPaymentMethod()">
                                <i class="fas fa-plus"></i>
                                Добавить способ оплаты
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Способ оплаты</th>
                                    <th>Комиссия</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="paymentsTable">
                                <tr>
                                    <td>
                                        <div style="display:flex;align-items:center;gap:12px;">
                                            <div class="stat-card-icon green" style="width:40px;height:40px;border-radius:8px;">
                                                <i class="fas fa-money-bill"></i>
                                            </div>
                                            <div>
                                                <strong>Наличные</strong>
                                                <div style="font-size:12px;color:var(--text-muted);">При получении</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>0%</td>
                                    <td><span class="status-badge active"><i class="fas fa-circle"></i> Активен</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="table-action"><i class="fas fa-edit"></i></button>
                                            <button class="table-action"><i class="fas fa-toggle-on"></i></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display:flex;align-items:center;gap:12px;">
                                            <div class="stat-card-icon blue" style="width:40px;height:40px;border-radius:8px;">
                                                <i class="fas fa-credit-card"></i>
                                            </div>
                                            <div>
                                                <strong>Банковская карта</strong>
                                                <div style="font-size:12px;color:var(--text-muted);">Онлайн оплата</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>2.9%</td>
                                    <td><span class="status-badge inactive"><i class="fas fa-circle"></i> Не настроен</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="table-action"><i class="fas fa-cog"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Warehouse Section -->
                <section class="section" id="section-warehouse">
                    <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon blue">
                                    <i class="fas fa-box"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="warehouse-total">0</div>
                            <div class="stat-card-label">Всего товаров</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon yellow">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="warehouse-low">0</div>
                            <div class="stat-card-label">Мало на складе</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div class="stat-card-icon red">
                                    <i class="fas fa-times-circle"></i>
                                </div>
                            </div>
                            <div class="stat-card-value" id="warehouse-out">0</div>
                            <div class="stat-card-label">Нет в наличии</div>
                        </div>
                    </div>

                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск по складу...">
                            </div>
                            <button class="btn btn-secondary">
                                <i class="fas fa-download"></i>
                                Экспорт
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Товар</th>
                                    <th>Артикул</th>
                                    <th>В наличии</th>
                                    <th>Резерв</th>
                                    <th>Доступно</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="warehouseTable">
                                <tr>
                                    <td colspan="6">
                                        <div class="empty-state">
                                            <i class="fas fa-warehouse"></i>
                                            <h3>Склад пуст</h3>
                                            <p>Добавьте товары для учета остатков</p>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Delivery Section -->
                <section class="section" id="section-delivery">
                    <div class="table-container">
                        <div class="table-header">
                            <h3>Способы доставки</h3>
                            <button class="btn btn-primary" onclick="addDeliveryMethod()">
                                <i class="fas fa-plus"></i>
                                Добавить способ доставки
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Способ доставки</th>
                                    <th>Стоимость</th>
                                    <th>Срок</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="deliveryTable">
                                <tr>
                                    <td>
                                        <div style="display:flex;align-items:center;gap:12px;">
                                            <div class="stat-card-icon green" style="width:40px;height:40px;border-radius:8px;">
                                                <i class="fas fa-store"></i>
                                            </div>
                                            <div>
                                                <strong>Самовывоз</strong>
                                                <div style="font-size:12px;color:var(--text-muted);">Из точки выдачи</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Бесплатно</td>
                                    <td>Сразу</td>
                                    <td><span class="status-badge active"><i class="fas fa-circle"></i> Активен</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="table-action"><i class="fas fa-edit"></i></button>
                                            <button class="table-action"><i class="fas fa-toggle-on"></i></button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div style="display:flex;align-items:center;gap:12px;">
                                            <div class="stat-card-icon blue" style="width:40px;height:40px;border-radius:8px;">
                                                <i class="fas fa-truck"></i>
                                            </div>
                                            <div>
                                                <strong>Курьерская доставка</strong>
                                                <div style="font-size:12px;color:var(--text-muted);">По адресу</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td>от 300 руб.</td>
                                    <td>1-3 дня</td>
                                    <td><span class="status-badge active"><i class="fas fa-circle"></i> Активен</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="table-action"><i class="fas fa-edit"></i></button>
                                            <button class="table-action"><i class="fas fa-toggle-on"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Users Section -->
                <section class="section" id="section-users">
                    <div class="table-container">
                        <div class="table-header">
                            <div class="table-search">
                                <input type="text" placeholder="Поиск пользователей...">
                            </div>
                            <button class="btn btn-primary" onclick="createUser()">
                                <i class="fas fa-plus"></i>
                                Добавить пользователя
                            </button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th><input type="checkbox" class="table-checkbox"></th>
                                    <th>Пользователь</th>
                                    <th>Email</th>
                                    <th>Роль</th>
                                    <th>Регистрация</th>
                                    <th>Статус</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody id="usersTable">
                                <tr>
                                    <td><input type="checkbox" class="table-checkbox"></td>
                                    <td>
                                        <div style="display:flex;align-items:center;gap:12px;">
                                            <div class="table-avatar">А</div>
                                            <div>
                                                <strong>Администратор</strong>
                                            </div>
                                        </div>
                                    </td>
                                    <td>admin@example.com</td>
                                    <td><span class="status-badge completed">Владелец</span></td>
                                    <td>01.01.2024</td>
                                    <td><span class="status-badge active"><i class="fas fa-circle"></i> Активен</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="table-action"><i class="fas fa-edit"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Settings Section -->
                <section class="section" id="section-settings">
                    <div class="table-container">
                        <div style="padding: 24px;">
                            <h3 style="margin-bottom: 24px;">Настройки проекта</h3>

                            <div class="form-group">
                                <label>Название проекта</label>
                                <input type="text" id="projectNameInput" placeholder="Мой проект">
                            </div>

                            <div class="form-group">
                                <label>Описание</label>
                                <textarea id="projectDescInput" placeholder="Описание проекта"></textarea>
                            </div>

                            <div class="form-group">
                                <label>Домен</label>
                                <input type="text" placeholder="example.com">
                                <p class="form-hint">Укажите домен для публикации сайта</p>
                            </div>

                            <button class="btn btn-primary">
                                <i class="fas fa-save"></i>
                                Сохранить настройки
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Create Project Modal -->
    <div class="modal-overlay" id="createProjectModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Создать проект</h2>
                <button class="modal-close" onclick="closeModal('createProjectModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Название проекта</label>
                    <input type="text" id="newProjectName" placeholder="Мой проект">
                </div>
                <div class="form-group">
                    <label>Описание</label>
                    <textarea id="newProjectDesc" placeholder="Описание проекта (необязательно)"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('createProjectModal')">Отмена</button>
                <button class="btn btn-primary" onclick="saveNewProject()">
                    <i class="fas fa-check"></i>
                    Создать
                </button>
            </div>
        </div>
    </div>

    <!-- Create Folder Modal -->
    <div class="modal-overlay" id="createFolderModal">
        <div class="modal">
            <div class="modal-header">
                <h2>Создать папку</h2>
                <button class="modal-close" onclick="closeModal('createFolderModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Название папки</label>
                    <input type="text" id="newFolderName" placeholder="Название папки">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('createFolderModal')">Отмена</button>
                <button class="btn btn-primary" onclick="saveNewFolder()">
                    <i class="fas fa-check"></i>
                    Создать
                </button>
            </div>
        </div>
    </div>

    <!-- Create Landing Modal -->
    <div class="modal-overlay" id="createLandingModal">
        <div class="modal" style="max-width: 600px;">
            <div class="modal-header">
                <h2>Создать лендинг</h2>
                <button class="modal-close" onclick="closeModal('createLandingModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Название лендинга</label>
                    <input type="text" id="newLandingName" placeholder="Новый лендинг">
                </div>
                <div class="form-group">
                    <label>Шаблон</label>
                    <select id="newLandingTemplate">
                        <option value="">Пустой шаблон</option>
                        <option value="landing-basic">Базовый лендинг</option>
                        <option value="cosmetology">Косметология</option>
                        <option value="personal-coach">Персональный коуч</option>
                        <option value="shop-fashion">Магазин одежды</option>
                        <option value="restaurant-main">Ресторан</option>
                        <option value="fitness-gym">Фитнес-клуб</option>
                        <option value="education-course">Онлайн-курс</option>
                        <option value="services-beauty">Салон красоты</option>
                        <option value="events-conference">Конференция</option>
                        <option value="portfolio">Портфолио</option>
                        <option value="business-card">Визитка</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('createLandingModal')">Отмена</button>
                <button class="btn btn-primary" onclick="saveNewLanding()">
                    <i class="fas fa-check"></i>
                    Создать
                </button>
            </div>
        </div>
    </div>

    <script>
        // State
        let currentProject = null;
        let projects = [];
        let pages = [];
        let landings = [];
        let folders = [];
        let currentSection = 'dashboard';
        let currentFolder = 'all';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            setupNavigation();
            setupProjectSelector();
            setupTabs();
            updateStats();
            renderContent();
        });

        // Load data from localStorage
        function loadData() {
            projects = JSON.parse(localStorage.getItem('cms_projects') || '[]');

            // Create default project if none exists
            if (projects.length === 0) {
                const defaultProject = {
                    id: generateId(),
                    name: 'Мой проект',
                    description: '',
                    created: new Date().toISOString()
                };
                projects.push(defaultProject);
                localStorage.setItem('cms_projects', JSON.stringify(projects));
            }

            // Load current project from URL or use first project
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('project') || projects[0].id;
            currentProject = projects.find(p => p.id === projectId) || projects[0];

            // Load project-specific data
            landings = JSON.parse(localStorage.getItem(`landing_pages_${currentProject.id}`) || localStorage.getItem('landing_pages') || '[]');
            pages = JSON.parse(localStorage.getItem(`cms_pages_${currentProject.id}`) || '[]');
            folders = JSON.parse(localStorage.getItem(`cms_folders_${currentProject.id}`) || '[]');

            // Update project name display
            document.getElementById('currentProjectName').textContent = currentProject.name;
        }

        // Save data
        function saveData() {
            localStorage.setItem('cms_projects', JSON.stringify(projects));
            localStorage.setItem(`landing_pages_${currentProject.id}`, JSON.stringify(landings));
            localStorage.setItem('landing_pages', JSON.stringify(landings)); // For backward compatibility
            localStorage.setItem(`cms_pages_${currentProject.id}`, JSON.stringify(pages));
            localStorage.setItem(`cms_folders_${currentProject.id}`, JSON.stringify(folders));
        }

        // Generate unique ID
        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        // Setup navigation
        function setupNavigation() {
            document.querySelectorAll('.nav-item[data-section]').forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = item.dataset.section;
                    switchSection(section);
                });
            });

            // Submenus
            document.querySelectorAll('.nav-item-parent').forEach(item => {
                item.addEventListener('click', () => {
                    const submenuId = item.dataset.submenu;
                    const submenu = document.getElementById(`submenu-${submenuId}`);
                    item.classList.toggle('open');
                    submenu.classList.toggle('open');
                });
            });
        }

        // Switch section
        function switchSection(sectionId) {
            currentSection = sectionId;

            // Update nav active state
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === sectionId) {
                    item.classList.add('active');
                }
            });

            // Update sections visibility
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section-${sectionId}`).classList.add('active');

            // Update header title
            const titles = {
                'dashboard': 'Дашборд',
                'pages': 'Страницы',
                'landings': 'Лендинги',
                'products': 'Товары',
                'services': 'Услуги',
                'digital': 'Онлайн-продукты',
                'specialists': 'Специалисты',
                'orders': 'Заказы',
                'payments': 'Платежные системы',
                'warehouse': 'Склад',
                'delivery': 'Доставка',
                'users': 'Пользователи',
                'settings': 'Настройки'
            };
            document.getElementById('sectionTitle').textContent = titles[sectionId] || sectionId;

            // Update main action button
            updateMainActionButton(sectionId);
        }

        // Update main action button
        function updateMainActionButton(section) {
            const btn = document.getElementById('mainActionBtn');
            const actions = {
                'dashboard': { text: 'Создать лендинг', action: 'createLanding()' },
                'pages': { text: 'Создать страницу', action: 'createPage()' },
                'landings': { text: 'Создать лендинг', action: 'createLanding()' },
                'products': { text: 'Добавить товар', action: 'createProduct()' },
                'services': { text: 'Добавить услугу', action: 'createService()' },
                'digital': { text: 'Добавить продукт', action: 'createDigitalProduct()' },
                'specialists': { text: 'Добавить специалиста', action: 'createSpecialist()' },
                'orders': { text: 'Создать заказ', action: 'createOrder()' },
                'users': { text: 'Добавить пользователя', action: 'createUser()' }
            };

            const config = actions[section] || { text: 'Создать', action: '' };
            btn.innerHTML = `<i class="fas fa-plus"></i><span>${config.text}</span>`;
            btn.onclick = () => eval(config.action);
        }

        // Setup project selector
        function setupProjectSelector() {
            const dropdown = document.getElementById('projectDropdown');
            const menu = document.getElementById('projectMenu');

            dropdown.addEventListener('click', () => {
                menu.classList.toggle('open');
                renderProjectMenu();
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!dropdown.contains(e.target) && !menu.contains(e.target)) {
                    menu.classList.remove('open');
                }
            });
        }

        // Render project menu
        function renderProjectMenu() {
            const menu = document.getElementById('projectMenu');
            let html = '';

            projects.forEach(project => {
                const isActive = project.id === currentProject.id;
                html += `
                    <div class="project-menu-item ${isActive ? 'active' : ''}" onclick="switchProject('${project.id}')">
                        <i class="fas fa-folder"></i>
                        <span>${project.name}</span>
                        ${isActive ? '<i class="fas fa-check" style="margin-left:auto;"></i>' : ''}
                    </div>
                `;
            });

            html += '<div class="project-menu-divider"></div>';
            html += `
                <div class="project-menu-item create" onclick="openModal('createProjectModal')">
                    <i class="fas fa-plus"></i>
                    <span>Создать проект</span>
                </div>
            `;

            menu.innerHTML = html;
        }

        // Switch project
        function switchProject(projectId) {
            currentProject = projects.find(p => p.id === projectId);
            document.getElementById('currentProjectName').textContent = currentProject.name;
            document.getElementById('projectMenu').classList.remove('open');

            // Update URL
            const url = new URL(window.location);
            url.searchParams.set('project', projectId);
            window.history.pushState({}, '', url);

            // Reload project data
            landings = JSON.parse(localStorage.getItem(`landing_pages_${currentProject.id}`) || localStorage.getItem('landing_pages') || '[]');
            pages = JSON.parse(localStorage.getItem(`cms_pages_${currentProject.id}`) || '[]');
            folders = JSON.parse(localStorage.getItem(`cms_folders_${currentProject.id}`) || '[]');

            updateStats();
            renderContent();
        }

        // Setup tabs
        function setupTabs() {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    const parent = tab.closest('.section');

                    parent.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    parent.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                    tab.classList.add('active');
                    document.getElementById(`tab-${tabId}`).classList.add('active');
                });
            });
        }

        // Update stats
        function updateStats() {
            document.getElementById('stat-pages').textContent = pages.length;
            document.getElementById('stat-landings').textContent = landings.length;
            document.getElementById('stat-orders').textContent = '0';
            document.getElementById('stat-users').textContent = '1';

            document.getElementById('pagesCount').textContent = pages.length;
            document.getElementById('landingsCount').textContent = landings.length;
            document.getElementById('allPagesCount').textContent = pages.length;
        }

        // Render content
        function renderContent() {
            renderLandings();
            renderPages();
            renderFolders();
        }

        // Render landings
        function renderLandings() {
            const grid = document.getElementById('landingsGrid');
            const recentGrid = document.getElementById('recentLandings');

            let html = `
                <div class="card new" onclick="createLanding()">
                    <i class="fas fa-plus-circle"></i>
                    <span>Создать лендинг</span>
                </div>
            `;

            landings.forEach(landing => {
                html += renderLandingCard(landing);
            });

            grid.innerHTML = html;
            recentGrid.innerHTML = html;
        }

        // Render landing card
        function renderLandingCard(landing) {
            const date = new Date(landing.created || landing.updated).toLocaleDateString('ru-RU');
            return `
                <div class="card">
                    <div class="card-preview">
                        <i class="fas fa-file-alt card-preview-placeholder"></i>
                    </div>
                    <div class="card-body">
                        <div class="card-title">
                            <input type="text" value="${landing.name}" onchange="renameLanding('${landing.id}', this.value)">
                        </div>
                        <div class="card-meta">Изменен: ${date}</div>
                        <div class="card-actions">
                            <button class="card-action primary" onclick="editLanding('${landing.id}')">
                                <i class="fas fa-edit"></i> Редактировать
                            </button>
                            <button class="card-action" onclick="duplicateLanding('${landing.id}')">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button class="card-action danger" onclick="deleteLanding('${landing.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Render pages
        function renderPages() {
            const grid = document.getElementById('pagesGrid');

            let html = `
                <div class="card new" onclick="createPage()">
                    <i class="fas fa-plus-circle"></i>
                    <span>Создать страницу</span>
                </div>
            `;

            const filteredPages = currentFolder === 'all'
                ? pages
                : pages.filter(p => p.folderId === currentFolder);

            filteredPages.forEach(page => {
                const date = new Date(page.created || page.updated).toLocaleDateString('ru-RU');
                html += `
                    <div class="card">
                        <div class="card-preview">
                            <i class="fas fa-file-alt card-preview-placeholder"></i>
                        </div>
                        <div class="card-body">
                            <div class="card-title">
                                <input type="text" value="${page.name}" onchange="renamePage('${page.id}', this.value)">
                            </div>
                            <div class="card-meta">Изменен: ${date}</div>
                            <div class="card-actions">
                                <button class="card-action primary" onclick="editPage('${page.id}')">
                                    <i class="fas fa-edit"></i> Редактировать
                                </button>
                                <button class="card-action danger" onclick="deletePage('${page.id}')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });

            grid.innerHTML = html;
        }

        // Render folders
        function renderFolders() {
            const list = document.getElementById('foldersList');

            let html = '';
            folders.forEach(folder => {
                const count = pages.filter(p => p.folderId === folder.id).length;
                const isActive = folder.id === currentFolder;
                html += `
                    <div class="folder-item ${isActive ? 'active' : ''}" data-folder="${folder.id}" onclick="selectFolder('${folder.id}')">
                        <i class="fas fa-folder"></i>
                        <span>${folder.name}</span>
                        <span class="count">${count}</span>
                    </div>
                `;
            });

            list.innerHTML = html;
        }

        // Select folder
        function selectFolder(folderId) {
            currentFolder = folderId;

            document.querySelectorAll('.folder-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.folder === folderId) {
                    item.classList.add('active');
                }
            });

            renderPages();
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('open');
            document.getElementById('projectMenu').classList.remove('open');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('open');
        }

        // Create functions
        function createLanding() {
            openModal('createLandingModal');
        }

        function saveNewLanding() {
            const name = document.getElementById('newLandingName').value || 'Новый лендинг';
            const template = document.getElementById('newLandingTemplate').value;

            const newLanding = {
                id: generateId(),
                name: name,
                template: template,
                elements: [],
                created: new Date().toISOString(),
                updated: new Date().toISOString()
            };

            landings.push(newLanding);
            saveData();
            closeModal('createLandingModal');

            // Open in builder
            window.location.href = `index.html?id=${newLanding.id}${template ? '&template=' + template : ''}`;
        }

        function editLanding(id) {
            window.location.href = `index.html?id=${id}`;
        }

        function renameLanding(id, newName) {
            const landing = landings.find(l => l.id === id);
            if (landing) {
                landing.name = newName;
                landing.updated = new Date().toISOString();
                saveData();
            }
        }

        function duplicateLanding(id) {
            const landing = landings.find(l => l.id === id);
            if (landing) {
                const copy = {
                    ...JSON.parse(JSON.stringify(landing)),
                    id: generateId(),
                    name: landing.name + ' (копия)',
                    created: new Date().toISOString(),
                    updated: new Date().toISOString()
                };
                landings.push(copy);
                saveData();
                renderLandings();
                updateStats();
            }
        }

        function deleteLanding(id) {
            if (confirm('Удалить этот лендинг?')) {
                landings = landings.filter(l => l.id !== id);
                saveData();
                renderLandings();
                updateStats();
            }
        }

        function createPage() {
            const name = prompt('Название страницы:');
            if (name) {
                const newPage = {
                    id: generateId(),
                    name: name,
                    folderId: currentFolder === 'all' ? null : currentFolder,
                    content: '',
                    created: new Date().toISOString(),
                    updated: new Date().toISOString()
                };
                pages.push(newPage);
                saveData();
                renderPages();
                updateStats();
            }
        }

        function renamePage(id, newName) {
            const page = pages.find(p => p.id === id);
            if (page) {
                page.name = newName;
                page.updated = new Date().toISOString();
                saveData();
            }
        }

        function deletePage(id) {
            if (confirm('Удалить эту страницу?')) {
                pages = pages.filter(p => p.id !== id);
                saveData();
                renderPages();
                updateStats();
            }
        }

        function createFolder() {
            openModal('createFolderModal');
        }

        function saveNewFolder() {
            const name = document.getElementById('newFolderName').value;
            if (name) {
                const newFolder = {
                    id: generateId(),
                    name: name,
                    created: new Date().toISOString()
                };
                folders.push(newFolder);
                saveData();
                renderFolders();
                closeModal('createFolderModal');
                document.getElementById('newFolderName').value = '';
            }
        }

        function saveNewProject() {
            const name = document.getElementById('newProjectName').value || 'Новый проект';
            const desc = document.getElementById('newProjectDesc').value || '';

            const newProject = {
                id: generateId(),
                name: name,
                description: desc,
                created: new Date().toISOString()
            };

            projects.push(newProject);
            localStorage.setItem('cms_projects', JSON.stringify(projects));
            closeModal('createProjectModal');

            // Switch to new project
            switchProject(newProject.id);

            // Clear form
            document.getElementById('newProjectName').value = '';
            document.getElementById('newProjectDesc').value = '';
        }

        // Placeholder functions for other entity types
        function createProduct() { alert('Создание товара будет добавлено позже'); }
        function createService() { alert('Создание услуги будет добавлено позже'); }
        function createDigitalProduct() { alert('Создание онлайн-продукта будет добавлено позже'); }
        function createSpecialist() { alert('Добавление специалиста будет добавлено позже'); }
        function createOrder() { alert('Создание заказа будет добавлено позже'); }
        function createUser() { alert('Добавление пользователя будет добавлено позже'); }
        function addPaymentMethod() { alert('Добавление платежной системы будет добавлено позже'); }
        function addDeliveryMethod() { alert('Добавление способа доставки будет добавлено позже'); }
        function editPage(id) { alert('Редактор страниц будет добавлен позже'); }
    </script>
</body>
</html>
