<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Конструктор лендингов</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="builder-container">
        <!-- Top Toolbar -->
        <header class="toolbar">
            <div class="toolbar-left">
                <a href="pages.html" class="logo">
                    <i class="fas fa-folder"></i>
                    <span>Мои проекты</span>
                </a>
            </div>
            <div class="toolbar-center">
                <div class="viewport-switcher">
                    <button class="viewport-btn active" data-viewport="desktop" title="Десктоп">
                        <i class="fas fa-desktop"></i>
                    </button>
                    <button class="viewport-btn" data-viewport="tablet" title="Планшет">
                        <i class="fas fa-tablet-alt"></i>
                    </button>
                    <button class="viewport-btn" data-viewport="mobile" title="Мобильный">
                        <i class="fas fa-mobile-alt"></i>
                    </button>
                </div>
            </div>
            <div class="toolbar-right">
                <button class="toolbar-btn" id="undoBtn" title="Отменить">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="toolbar-btn" id="redoBtn" title="Повторить">
                    <i class="fas fa-redo"></i>
                </button>
                <button class="toolbar-btn" id="previewBtn" title="Предпросмотр">
                    <i class="fas fa-eye"></i>
                </button>
                <button class="toolbar-btn" id="codeBtn" title="Код">
                    <i class="fas fa-code"></i>
                </button>
                <button class="toolbar-btn primary" id="saveBtn">
                    <i class="fas fa-save"></i>
                    <span>Сохранить</span>
                </button>
                <button class="toolbar-btn success" id="exportBtn">
                    <i class="fas fa-download"></i>
                    <span>Экспорт</span>
                </button>
            </div>
        </header>

        <div class="builder-main">
            <!-- Left Panel - Blocks -->
            <aside class="blocks-panel" id="blocksPanel">
                <div class="panel-header">
                    <h3>Блоки</h3>
                    <input type="text" class="search-input" id="blockSearch" placeholder="Поиск...">
                </div>
                <div class="blocks-categories">
                    <!-- Structure -->
                    <div class="block-category">
                        <div class="category-header" data-category="structure">
                            <i class="fas fa-layer-group"></i>
                            <span>Структура</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="section">
                                <i class="fas fa-square"></i>
                                <span>Секция</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="container">
                                <i class="fas fa-box"></i>
                                <span>Контейнер</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="row">
                                <i class="fas fa-columns"></i>
                                <span>Строка</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="column">
                                <i class="fas fa-grip-lines-vertical"></i>
                                <span>Колонка</span>
                            </div>
                        </div>
                    </div>

                    <!-- Basic -->
                    <div class="block-category">
                        <div class="category-header" data-category="basic">
                            <i class="fas fa-font"></i>
                            <span>Базовые</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="heading">
                                <i class="fas fa-heading"></i>
                                <span>Заголовок</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="text">
                                <i class="fas fa-align-left"></i>
                                <span>Текст</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="image">
                                <i class="fas fa-image"></i>
                                <span>Изображение</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="button">
                                <i class="fas fa-hand-pointer"></i>
                                <span>Кнопка</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="link">
                                <i class="fas fa-link"></i>
                                <span>Ссылка</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="list">
                                <i class="fas fa-list"></i>
                                <span>Список</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="divider">
                                <i class="fas fa-minus"></i>
                                <span>Разделитель</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="spacer">
                                <i class="fas fa-arrows-alt-v"></i>
                                <span>Отступ</span>
                            </div>
                        </div>
                    </div>

                    <!-- Media -->
                    <div class="block-category">
                        <div class="category-header" data-category="media">
                            <i class="fas fa-photo-video"></i>
                            <span>Медиа</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="video">
                                <i class="fas fa-video"></i>
                                <span>Видео</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="gallery">
                                <i class="fas fa-images"></i>
                                <span>Галерея</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="carousel">
                                <i class="fas fa-film"></i>
                                <span>Карусель</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="icon">
                                <i class="fas fa-star"></i>
                                <span>Иконка</span>
                            </div>
                        </div>
                    </div>

                    <!-- Interactive -->
                    <div class="block-category">
                        <div class="category-header" data-category="interactive">
                            <i class="fas fa-mouse-pointer"></i>
                            <span>Интерактив</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="form">
                                <i class="fas fa-envelope"></i>
                                <span>Форма</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="accordion">
                                <i class="fas fa-chevron-down"></i>
                                <span>Аккордеон</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="tabs">
                                <i class="fas fa-folder"></i>
                                <span>Табы</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="modal">
                                <i class="fas fa-window-restore"></i>
                                <span>Модальное окно</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="timer">
                                <i class="fas fa-clock"></i>
                                <span>Таймер</span>
                            </div>
                        </div>
                    </div>

                    <!-- Components -->
                    <div class="block-category">
                        <div class="category-header" data-category="components">
                            <i class="fas fa-puzzle-piece"></i>
                            <span>Компоненты</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="navbar">
                                <i class="fas fa-bars"></i>
                                <span>Навигация</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="hero">
                                <i class="fas fa-flag"></i>
                                <span>Hero</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="features">
                                <i class="fas fa-th-large"></i>
                                <span>Преимущества</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="card">
                                <i class="fas fa-id-card"></i>
                                <span>Карточка</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="testimonial">
                                <i class="fas fa-quote-left"></i>
                                <span>Отзыв</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="pricing">
                                <i class="fas fa-tag"></i>
                                <span>Цена</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="counter">
                                <i class="fas fa-sort-numeric-up"></i>
                                <span>Счётчик</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="progress">
                                <i class="fas fa-tasks"></i>
                                <span>Прогресс</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="social">
                                <i class="fas fa-share-alt"></i>
                                <span>Соцсети</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="map">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Карта</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="table">
                                <i class="fas fa-table"></i>
                                <span>Таблица</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="footer">
                                <i class="fas fa-shoe-prints"></i>
                                <span>Футер</span>
                            </div>
                        </div>
                    </div>

                    <!-- Code -->
                    <div class="block-category">
                        <div class="category-header" data-category="code">
                            <i class="fas fa-code"></i>
                            <span>Код</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="category-blocks">
                            <div class="block-item" draggable="true" data-type="html">
                                <i class="fab fa-html5"></i>
                                <span>HTML</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="css">
                                <i class="fab fa-css3-alt"></i>
                                <span>CSS</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="js">
                                <i class="fab fa-js"></i>
                                <span>JavaScript</span>
                            </div>
                            <div class="block-item" draggable="true" data-type="widget">
                                <i class="fas fa-plug"></i>
                                <span>Виджет</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Canvas -->
            <main class="canvas-wrapper">
                <div class="canvas-container" id="canvasContainer">
                    <div class="canvas" id="canvas" data-viewport="desktop">
                        <div class="canvas-empty" id="canvasEmpty">
                            <i class="fas fa-plus-circle"></i>
                            <p>Перетащите блоки сюда</p>
                            <span>или выберите готовый шаблон</span>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Panel - Layers -->
            <aside class="layers-panel" id="layersPanel">
                <div class="panel-header">
                    <h3>Слои</h3>
                </div>
                <div class="layers-content" id="layersContent">
                    <div class="layers-empty">
                        <i class="fas fa-layer-group"></i>
                        <p>Нет добавленных блоков</p>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Edit Block Modal -->
    <div class="modal" id="editModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="editModalTitle">Редактировать блок</h3>
                <button class="modal-close" id="closeEditModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="edit-tabs">
                    <button class="edit-tab active" data-tab="content"><i class="fas fa-font"></i> Контент</button>
                    <button class="edit-tab" data-tab="style"><i class="fas fa-palette"></i> Стиль</button>
                    <button class="edit-tab" data-tab="animation"><i class="fas fa-magic"></i> Анимация</button>
                    <button class="edit-tab" data-tab="action"><i class="fas fa-mouse-pointer"></i> Действие</button>
                    <button class="edit-tab" data-tab="advanced"><i class="fas fa-code"></i> Код</button>
                </div>
                <div class="edit-content" id="editContent">
                    <!-- Settings will be rendered here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn danger" id="deleteBlockBtn">
                    <i class="fas fa-trash"></i> Удалить
                </button>
                <button class="btn" id="cancelEditBtn">Отмена</button>
                <button class="btn primary" id="saveEditBtn">
                    <i class="fas fa-check"></i> Сохранить
                </button>
            </div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div class="modal" id="previewModal">
        <div class="modal-content full">
            <div class="modal-header">
                <h3>Предпросмотр</h3>
                <button class="modal-close" id="closePreview">&times;</button>
            </div>
            <div class="modal-body">
                <iframe id="previewFrame"></iframe>
            </div>
        </div>
    </div>

    <!-- Code Modal -->
    <div class="modal" id="codeModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Код страницы</h3>
                <div class="code-tabs">
                    <button class="code-tab active" data-tab="html">HTML</button>
                    <button class="code-tab" data-tab="css">CSS</button>
                    <button class="code-tab" data-tab="full">Полный</button>
                </div>
                <button class="modal-close" id="closeCode">&times;</button>
            </div>
            <div class="modal-body">
                <div class="code-content active" id="htmlCode">
                    <pre><code></code></pre>
                </div>
                <div class="code-content" id="cssCode">
                    <pre><code></code></pre>
                </div>
                <div class="code-content" id="fullCode">
                    <pre><code></code></pre>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" id="copyCode">
                    <i class="fas fa-copy"></i> Копировать
                </button>
                <button class="btn primary" id="downloadCode">
                    <i class="fas fa-download"></i> Скачать HTML
                </button>
            </div>
        </div>
    </div>

    <script src="builder.js"></script>
</body>
</html>
